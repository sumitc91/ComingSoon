<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Find Duplicate File in System - LeetCodee Solution</title>
    <meta name="description" content="Find Duplicate File in System LeetCode solution in Python, Java, C++, JavaScript, and C#.  Detailed explanation and optimized code with time and space complexity analysis.">
    <meta name="keywords" content="leetcode, find duplicate file in system, solution, python, java, c++, javascript, c#, algorithm, coding, problem solving, time complexity, space complexity">
    <link rel="canonical" href="https://leetcodee.com/problems/find-duplicate-file-in-system/">
    <meta property="og:title" content="Find Duplicate File in System - LeetCodee Solution">
    <meta property="og:url" content="https://leetcodee.com/problems/find-duplicate-file-in-system/">
    <meta property="og:description" content="Find Duplicate File in System LeetCode solution in Python, Java, C++, JavaScript, and C#.  Detailed explanation and optimized code with time and space complexity analysis.">
    <meta property="og:type" content="article">
    <meta property="og:image" content="https://leetcodee.com/leetcodee-logo.png">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-F7SQYSXXMM"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-F7SQYSXXMM');
    </script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1068871795581451" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Article",
      "headline": "Find Duplicate File in System - LeetCodee Solution",
      "author": {
        "@type": "Person",
        "name": "LeetCodee"
      },
      "datePublished": "2024-08-08",
      "dateModified": "2024-08-08",
      "description": "Find Duplicate File in System LeetCode solution in Python, Java, C++, JavaScript, and C#.  Detailed explanation and optimized code with time and space complexity analysis.",
      "articleBody": "Given a list paths of directory info, including the directory path, and all the files with contents in this directory, return all the duplicate files in the file system in terms of their paths. You may return the answer in any order. A group of duplicate files consists of at least two files that have the same content. A single directory info string in the input list has the following format: \"root/d1/d2/.../dm f1.txt(f1_content) f2.txt(f2_content) ... fn.txt(fn_content)\" It means there are n files (f1.txt, f2.txt ... fn.txt) with content (f1_content, f2_content ... fn_content) in directory root/d1/d2/.../dm. Note that n >= 1 and m >= 0. If m = 0, it means the directory is just the root directory. The output is a list of groups of duplicate file paths. For each group, it contains all the file paths of the files that have the same content. A file path is a string that has the following format: \"directory_path/file_name.txt\"",
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://leetcodee.com/problems/find-duplicate-file-in-system/"
      }
    }
    </script>
</head>
<body class="bg-gray-100">
    <header class="bg-gray-800 text-white p-4">
        <div class="container mx-auto">
            <a href="/" class="text-xl font-bold">LeetCodee</a>
        </div>
    </header>

    <main class="container mx-auto p-4">
        <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
            <h1 class="text-3xl font-bold mb-4">609. Find Duplicate File in System</h1>

            <div class="mb-6">
                <h2 class="text-xl font-semibold mb-2">Problem Description</h2>
                <p class="text-gray-700 mb-4">
                    Given a list <code class="bg-gray-100 px-1 rounded">paths</code> of directory info, including the directory path, and all the files with contents in this directory, return all the duplicate files in the file system in terms of their paths. You may return the answer in any order.
                </p>
                <p class="text-gray-700 mb-4">
                    A group of duplicate files consists of at least two files that have the same content.
                </p>
                <p class="text-gray-700 mb-4">
                    A single directory info string in the input list has the following format:
                </p>
                <ul class="list-disc list-inside text-gray-700 mb-4">
                    <li><code class="bg-gray-100 px-1 rounded">"root/d1/d2/.../dm f1.txt(f1_content) f2.txt(f2_content) ... fn.txt(fn_content)"</code></li>
                </ul>
                <p class="text-gray-700 mb-4">
                    It means there are <code class="bg-gray-100 px-1 rounded">n</code> files (<code class="bg-gray-100 px-1 rounded">f1.txt</code>, <code class="bg-gray-100 px-1 rounded">f2.txt</code> ... <code class="bg-gray-100 px-1 rounded">fn.txt</code>) with content (<code class="bg-gray-100 px-1 rounded">f1_content</code>, <code class="bg-gray-100 px-1 rounded">f2_content</code> ... <code class="bg-gray-100 px-1 rounded">fn_content</code>) in directory <code class="bg-gray-100 px-1 rounded">root/d1/d2/.../dm</code>. Note that <code class="bg-gray-100 px-1 rounded">n >= 1</code> and <code class="bg-gray-100 px-1 rounded">m >= 0</code>. If <code class="bg-gray-100 px-1 rounded">m = 0</code>, it means the directory is just the root directory.
                </p>
                <p class="text-gray-700 mb-4">
                    The output is a list of groups of duplicate file paths. For each group, it contains all the file paths of the files that have the same content. A file path is a string that has the following format:
                </p>
                <ul class="list-disc list-inside text-gray-700 mb-4">
                    <li><code class="bg-gray-100 px-1 rounded">"directory_path/file_name.txt"</code></li>
                </ul>
            </div>

            <div class="mb-6">
                <h2 class="text-xl font-semibold mb-2">Example 1:</h2>
                <pre class="bg-gray-100 p-4 rounded"><code>Input: paths = ["root/a 1.txt(abcd) 2.txt(efgh)","root/c 3.txt(abcd)","root/c/d 4.txt(efgh)","root 4.txt(efgh)"]
Output: [["root/a/2.txt","root/c/d/4.txt","root/4.txt"],["root/a/1.txt","root/c/3.txt"]]</code></pre>
            </div>

            <div class="mb-6">
                <h2 class="text-xl font-semibold mb-2">Example 2:</h2>
                <pre class="bg-gray-100 p-4 rounded"><code>Input: paths = ["root/a 1.txt(abcd) 2.txt(efgh)","root/c 3.txt(abcd)","root/c/d 4.txt(efgh)"]
Output: [["root/a/2.txt","root/c/d/4.txt"],["root/a/1.txt","root/c/3.txt"]]</code></pre>
            </div>

            <div class="mb-6">
                <h2 class="text-xl font-semibold mb-2">Constraints:</h2>
                <ul class="list-disc list-inside text-gray-700">
                    <li><code class="bg-gray-100 px-1 rounded">1 <= paths.length <= 2 * 10<sup>4</sup></code></li>
                    <li><code class="bg-gray-100 px-1 rounded">1 <= paths[i].length <= 3000</code></li>
                    <li><code class="bg-gray-100 px-1 rounded">1 <= sum(paths[i].length) <= 5 * 10<sup>5</sup></code></li>
                    <li>paths[i] consist of English letters, digits, '/', '.', '(', ')', and ' '</li>
                    <li>You may assume no files or directories share the same name in the same directory</li>
                    <li>You may assume each given directory info represents a unique directory</li>
                    <li>A single blank space separates the directory path and file info</li>
                </ul>
            </div>
        </div>

        <!-- Solution Section -->
        <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
            <h2 class="text-2xl font-bold mb-4">Solution</h2>
            
            <!-- Python Solution -->
            <div id="python" class="mb-8">
                <h3 class="text-xl font-semibold mb-4">Python Solution</h3>
                <pre class="language-python"><code>class Solution:
    def findDuplicate(self, paths: List[str]) -> List[List[str]]:
        content_map = {}
        
        for path in paths:
            parts = path.split()
            directory = parts[0]
            
            for file_info in parts[1:]:
                # Split file name and content
                left_paren = file_info.index('(')
                file_name = file_info[:left_paren]
                content = file_info[left_paren+1:-1]
                
                full_path = directory + '/' + file_name
                content_map.setdefault(content, []).append(full_path)
        
        # Return only groups with duplicates
        return [group for group in content_map.values() if len(group) > 1]</code></pre>
                
                <div class="mt-4">
                    <h4 class="text-lg font-semibold mb-2">Time Complexity: O(n * k)</h4>
                    <p class="text-gray-700">Where n is the number of paths and k is the average length of each path.</p>
                    
                    <h4 class="text-lg font-semibold mb-2 mt-4">Space Complexity: O(n * k)</h4>
                    <p class="text-gray-700">To store the content map with file paths.</p>
                </div>
            </div>

            <!-- Java Solution -->
            <div id="java" class="mb-8">
                <h3 class="text-xl font-semibold mb-4">Java Solution</h3>
                <pre class="language-java"><code>class Solution {
    public List<List<String>> findDuplicate(String[] paths) {
        Map<String, List<String>> contentMap = new HashMap<>();
        
        for (String path : paths) {
            String[] parts = path.split(" ");
            String directory = parts[0];
            
            for (int i = 1; i < parts.length; i++) {
                int leftParen = parts[i].indexOf('(');
                String fileName = parts[i].substring(0, leftParen);
                String content = parts[i].substring(leftParen + 1, parts[i].length() - 1);
                
                String fullPath = directory + "/" + fileName;
                contentMap.computeIfAbsent(content, k -> new ArrayList<>()).add(fullPath);
            }
        }
        
        return contentMap.values().stream()
            .filter(group -> group.size() > 1)
            .collect(Collectors.toList());
    }
}</code></pre>
                
                <div class="mt-4">
                    <h4 class="text-lg font-semibold mb-2">Time Complexity: O(n * k)</h4>
                    <p class="text-gray-700">Where n is the number of paths and k is the average length of each path.</p>
                    
                    <h4 class="text-lg font-semibold mb-2 mt-4">Space Complexity: O(n * k)</h4>
                    <p class="text-gray-700">To store the content map with file paths.</p>
                </div>
            </div>

            <!-- C++ Solution -->
            <div id="cpp" class="mb-8">
                <h3 class="text-xl font-semibold mb-4">C++ Solution</h3>
                <pre class="language-cpp"><code>class Solution {
public:
    vector<vector<string>> findDuplicate(vector<string>& paths) {
        unordered_map<string, vector<string>> contentMap;
        
        for (const string& path : paths) {
            stringstream ss(path);
            string directory;
            ss >> directory;
            
            string fileInfo;
            while (ss >> fileInfo) {
                size_t leftParen = fileInfo.find('(');
                string fileName = fileInfo.substr(0, leftParen);
                string content = fileInfo.substr(leftParen + 1, fileInfo.length() - leftParen - 2);
                
                string fullPath = directory + "/" + fileName;
                contentMap[content].push_back(fullPath);
            }
        }
        
        vector<vector<string>> result;
        for (const auto& pair : contentMap) {
            if (pair.second.size() > 1) {
                result.push_back(pair.second);
            }
        }
        
        return result;
    }
};</code></pre>
                
                <div class="mt-4">
                    <h4 class="text-lg font-semibold mb-2">Time Complexity: O(n * k)</h4>
                    <p class="text-gray-700">Where n is the number of paths and k is the average length of each path.</p>
                    
                    <h4 class="text-lg font-semibold mb-2 mt-4">Space Complexity: O(n * k)</h4>
                    <p class="text-gray-700">To store the content map with file paths.</p>
                </div>
            </div>

            <!-- JavaScript Solution -->
            <div id="javascript" class="mb-8">
                <h3 class="text-xl font-semibold mb-4">JavaScript Solution</h3>
                <pre class="language-javascript"><code>/**
 * @param {string[]} paths
 * @return {string[][]}
 */
var findDuplicate = function(paths) {
    const contentMap = new Map();
    
    for (const path of paths) {
        const parts = path.split(' ');
        const directory = parts[0];
        
        for (let i = 1; i < parts.length; i++) {
            const leftParen = parts[i].indexOf('(');
            const fileName = parts[i].slice(0, leftParen);
            const content = parts[i].slice(leftParen + 1, -1);
            
            const fullPath = directory + '/' + fileName;
            if (!contentMap.has(content)) {
                contentMap.set(content, []);
            }
            contentMap.get(content).push(fullPath);
        }
    }
    
    return Array.from(contentMap.values()).filter(group => group.length > 1);
};</code></pre>
                
                <div class="mt-4">
                    <h4 class="text-lg font-semibold mb-2">Time Complexity: O(n * k)</h4>
                    <p class="text-gray-700">Where n is the number of paths and k is the average length of each path.</p>
                    
                    <h4 class="text-lg font-semibold mb-2 mt-4">Space Complexity: O(n * k)</h4>
                    <p class="text-gray-700">To store the content map with file paths.</p>
                </div>
            </div>

            <!-- C# Solution -->
            <div id="csharp" class="mb-8">
                <h3 class="text-xl font-semibold mb-4">C# Solution</h3>
                <pre class="language-csharp"><code>public class Solution {
    public IList<IList<string>> FindDuplicate(string[] paths) {
        var contentMap = new Dictionary<string, List<string>>();
        
        foreach (var path in paths) {
            var parts = path.Split(' ');
            var directory = parts[0];
            
            for (int i = 1; i < parts.Length; i++) {
                var leftParen = parts[i].IndexOf('(');
                var fileName = parts[i].Substring(0, leftParen);
                var content = parts[i].Substring(leftParen + 1, parts[i].Length - leftParen - 2);
                
                var fullPath = directory + "/" + fileName;
                if (!contentMap.ContainsKey(content)) {
                    contentMap[content] = new List<string>();
                }
                contentMap[content].Add(fullPath);
            }
        }
        
        return contentMap.Values
            .Where(group => group.Count > 1)
            .ToList<IList<string>>();
    }
}</code></pre>
                
                <div class="mt-4">
                    <h4 class="text-lg font-semibold mb-2">Time Complexity: O(n * k)</h4>
                    <p class="text-gray-700">Where n is the number of paths and k is the average length of each path.</p>
                    
                    <h4 class="text-lg font-semibold mb-2 mt-4">Space Complexity: O(n * k)</h4>
                    <p class="text-gray-700">To store the content map with file paths.</p>
                </div>
            </div>
        </div>

        <!-- Approach Explanation -->
        <div class="bg-white rounded-lg shadow-lg p-6">
            <h2 class="text-2xl font-bold mb-4">Approach Explanation</h2>
            
            <div class="space-y-4">
                <p class="text-gray-700">
                    The solution uses a hash map to group files by content:
                </p>
                
                <ol class="list-decimal list-inside text-gray-700 ml-4">
                    <li>Key Insights:
                        <ul class="list-disc list-inside ml-8">
                            <li>Content-based grouping</li>
                            <li>Path parsing</li>
                            <li>String manipulation</li>
                            <li>Duplicate detection</li>
                        </ul>
                    </li>
                    <li>Algorithm Steps:
                        <ul class="list-disc list-inside ml-8">
                            <li>Parse paths</li>
                            <li>Extract content</li>
                            <li>Group files</li>
                            <li>Filter duplicates</li>
                        </ul>
                    </li>
                </ol>

                <p class="text-gray-700 mt-4">
                    Implementation Details:
                    <ul class="list-disc list-inside ml-4">
                        <li>Hash map usage</li>
                        <li>String splitting</li>
                        <li>Path construction</li>
                        <li>Group filtering</li>
                    </ul>
                </p>

                <p class="text-gray-700 mt-4">
                    Optimization Insights:
                    <ul class="list-disc list-inside ml-4">
                        <li>Single pass</li>
                        <li>Efficient grouping</li>
                        <li>Memory usage</li>
                        <li>String operations</li>
                    </ul>
                </p>

                <p class="text-gray-700 mt-4">
                    Edge Cases:
                    <ul class="list-disc list-inside ml-4">
                        <li>No duplicates</li>
                        <li>All duplicates</li>
                        <li>Single file</li>
                        <li>Empty content</li>
                    </ul>
                </p>
            </div>
        </div>
    </main>

    <footer class="bg-gray-800 text-white p-4 mt-8">
        <div class="container mx-auto text-center">
            <p>© 2024 LeetCodee. All rights reserved.</p>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/plugins/autoloader/prism-autoloader.min.js"></script>
</body>
</html>